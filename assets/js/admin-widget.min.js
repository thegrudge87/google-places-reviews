!function(a){"use strict";function b(){c(),d(),f()}function c(){a('.gpr-widget-toggler:not("clickable")').each(function(){a(this).addClass("clickable").unbind("click").click(function(){a(this).toggleClass("toggled"),a(this).next().slideToggle()})}),a(".limit-reviews-option").each(function(){var b=a(this).find("input"),c=(b.prop("checked"),a(this).next(".review-character-limit"));b.on("click",function(){c.slideToggle()})})}function d(){var b=a(".gpr-autocomplete"),c=a(".gpr-types");b.each(function(d){var f=new google.maps.places.Autocomplete(b[d]);a(c).on("change",function(){var c=a(this).val();f.setTypes([c]),a(b).val("")}),e(f,b[d]),a(b).keydown(function(a){return 13==a.which?!1:void 0})})}function e(b,c){google.maps.event.addListener(b,"place_changed",function(){var d=b.getPlace();return d.place_id?(a(c).parentsUntil("form").find(".location").val(d.name),a(c).parentsUntil("form").find(".place_id").val(d.place_id),void a(c).parentsUntil("form").find(".set-business").slideDown()):(alert("No place reference found for this location."),!1)})}function f(){a(".tooltip-info").tipsy({fade:!0,html:!0,gravity:"s",delayOut:1e3,delayIn:500})}a(window).load(function(){b()}),a(document).on("click",".gpr-clear-cache",function(b){b.preventDefault();var c=a(this);c.next(".cache-clearing-loading").fadeIn("fast");var d={action:"clear_widget_cache",transient_id_1:a(this).data("transient-id-1"),transient_id_2:a(this).data("transient-id-2")};jQuery.post(ajaxurl,d,function(b){console.log(b),a(".cache-clearing-loading").hide(),c.prev(".cache-message").text(b).fadeIn("fast").delay(2e3).fadeOut()})}),a(document).ajaxSuccess(function(){c(),d(),f()})}(jQuery);